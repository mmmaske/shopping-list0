import {ChangeDetectionStrategy, Component, inject} from '@angular/core';import { Router } from '@angular/router';
import { AuthService } from '../services/auth';
import Swal from 'sweetalert2';
import { debug } from '../utils/common';
import {
    MAT_DIALOG_DATA,
    MatDialog,
    MatDialogActions,
    MatDialogClose,
    MatDialogContent,
    MatDialogRef,
    MatDialogTitle,
  } from '@angular/material/dialog';
  import { AddItemComponent } from '../components/add-item/add-item.component';


@Component({
  selector: 'app-navbar',
  templateUrl: './navbar.component.html',
  styleUrls: ['./navbar.component.css'],
  changeDetection: ChangeDetectionStrategy.OnPush,
})
export class NavbarComponent {
    loggedin:boolean = this.authServ.isLoggedIn;
    title = 'Shopping List';

    imsorry:string = `iÌ¸ÌÌ•Í›Ì†ÌšÍ‡Íš'Ì¸ÌÌ…ÌÌ‹ÌÌ…Í„ÌƒÌ€Í‘Ì¾Ì¿ÍÍ˜ÍÌŒÌ…Ì…ÌšÌšÍÍÍ—ÌƒÌÌ‹ÍÍÍ›Ì¿Í‘Ì…Ì’Ì‘ÌÍ‘Í€Ì½ÌŠÍÌ„ÍŠÍ›Ì‡Ì¯ÍˆÍœÌ¯Í…Ì¹Í–Ì­Ì ÍšÌ¥ÍˆÍÌ–ÌÌ¡Ì¬Ì¹Í…Í“ÌÍšÌ£Ì¢ÌªÌÌ¡ÌŸmÌ´Ì‘Í‹Í›Í‚Ì…Í„Ì†Í„Ì½Ì¿ÍÌˆÌ‚Ì•ÍŠÌŽÍÌÍ€Ì†Í›ÍÌ‚Ì…Ì‘Í ÌÌ†ÍÍ›Í‘Ì¬Í”ÌÌ¦ÌÌ±ÌªÍ‡Ì²Ì®ÍÌ—Ì»Ì¼Ì©Ì¹Ì—Í‡ Ì´Ì…ÌÌ…Í†ÌŒÍ˜Í‘ÍÌ‹Ì€Ì„Ì€Í€Í„Í—Í‹ÍŒÌ›ÌŠÌ‰Ì¦Ì—Ì»Í‰ÍšÌ©Ì¨Ì°Ì¤Ì°Ì²ÍšÌ¬Í“Ì³Ì—Í“Ì–Í…Í™Ì©ÍˆÌ¼Ì¼Ì¬Ì«Ì–ÍšsÌ·ÌˆÌÌ†Ì•ÌšÍŠÌÌ„ÌŒÌ‘Í ÌšÌˆÍ‘Í‚ÌƒÍ ÌÌŒÌ›Ì…ÌÍÌšÍ˜ÍŠÌ¾ÌƒÌ‹Í˜Í‚ÍÌ¿Ì„Í˜Ì‘Í‚ÍÍÌ’Í˜ÍƒÌŠÍ™Í”ÌœÍœÍ…Ì˜ÍˆÌœÌžÌ Ì–Ì¬Ì¤Ì¨Í•Í•ÌªoÌ·ÌÍÍ„Ì‚Ì½Ì¿Ì‚Ì“ÌƒÍ‚Í‚Ì„Ì†Í Ì•Ì¾ÌÌ”ÌÍÌŠÍŠÌ“Í†ÍÌ–ÍˆÌ³Í–Ì°Ì¬rÌ·Ì”ÍÍ ÌÍŒÌšÌ¿Ì…Ì‰Í€Ì’Í€Ì¤Ì¢ÌœÌ¦Í”ÌœÌ™ÌœÍŽÌ­Ì˜Ì«Ì­Ì©Ì®Í…ÌÌ˜Ì¯Ì«Ì¼Ì–Ì¦Ì¬ÌºÌ®Ì»rÌ¶Í ÍÌ™Ì«Í…Ì—ÍÌ±Ì Ì¼Ì—Ì®ÍŽÌ ÍÌ²Í™Ì˜Ì­yÌ¸Ì‘Ì‘ÍƒÍ›Ì‡Ì’Ì‚ÌšÍÌ½ÍÍ ÍÍ„Ì½Ì‘Ì”ÌšÍ›ÌŒÍ„Ì”Ì“Ì…Í’Í˜Ì›Ì›Ì«Í”ÌžÌ§ÌªÌ¦Ì¼ÌÍŽÍ™ÍˆÌ¨Ì­ÌœÌ¼ÌžÍ…Ì®Ì¡Ì°Ì¥Ì«ÌŸÌ¹Ì©Ì—ÌÌ¹Ì™Ì©Ì¨Ì¥Ì¼Ì§Ì§Ì™Ì¢`;

    dontgo:string = `
    DÌ¸ÌŽÌ‰ÍŠÌ†Í‚ÌšÌ‚ÌÍŠÌ‡ÌŒÍ†Ì‚Ì„Í†Ì„Í‚Í’Ì¾Í‘ÌÌ½ÌŽÌÌ„Ì…Ì‚Ì’Ì†Ì…Í‚ÌƒÌƒÌ†Ì›ÍŒÌƒÍ’Í„Í†ÍÌ„Ì”Í†Í€ÍŠÌ…Í„ÌˆÍ€Ì½Ì„ÌÍÍ‹Ì„ÌÌšÍ‘ÌÌÌ½ÍÍ‘Ì¿Í‹Ì©Í™Ì–ÌªÍ‰Ì§Ì§Ì­Í‡Ì™Ì¯Ì¤ÌŸÍ‰ÌœÌ Ì¦Ì«Ì—Ì©Ì—Ì¯Í…Ì®Ì™Ì¢Ì®Ì¡ÍœÌ¬Ì˜Ì¥ÌªÍŽÌ¯Ì¥ÌÌ³Ì®Ì³Ì¼Ì°Ì¼ÌÍœÌ¬ÍˆÌ«ÌŸÍ–Ì¤Ì¥Ì¼Í‡Ì­Í…ÌžÍ•ÌŸÌ¡ÍÌ£Ì¬Í”ÌªÌžÌ¦Ì˜ÌÌ³ÍœÌ¬Ì§Ì¦Í“ÌŸÍ“Í•Ì–ÌœÌ«ÌœÌŸÌ§Ì¥Í…Ì«Í‡ÌŸÌ±ÌœÌªÌ²Ì©Ì£ÌªÍŽÌ¹Í™Ì£ÌºÌ£Ì³Ì¤Ì£ÍšÌªÍ•Ì–ÌªÍšÌ§Í”Í“ÌOÌ·Í„Ì…Ì‚Ì½ÌƒÌ†ÌƒÌ‹ÍŒÍŒÌ‘ÌÌ‘Ì€ÍƒÌÍ„Ì•ÍÍ˜Ì…Ì€ÌˆÍ€Í˜Ì†Í†Ì“Ì‡ÌŠÍÌ§Ì¬ÍÌ¯Í–Ì§Ì©Ì Í…Ì­Ì£Ì°Ì–Í‰Ì¼Í™ÌžÌ˜Ì Ì¬Ì¤Ì¼Ì©Ì±Ì°Ì—Í™ÍŽÌ°Ì¤Ì–Ì¦Ì¡Ì¡Í•Ì«Ì¨Í‡Ì ÍˆÌÍˆÍ™Í™Ì¦ÌÌ³Í”ÌªÍ–ÍŽÌ—Ì¨Í‰Ì˜Ì™ÌœÌ¼Ì²Ì­Ì¼Ì¬ÌœÌ¯Ì¯Ì¤ÌºÌÌ¬Ì˜Í“Ì¨Ì£ÌÌºÌœÌ«Ì¯Ì˜ÍœÌ¢Ì˜Í”Í…ÍœÌ–Ì¥Ì³Í–ÌÍ”Ì¨ÌœÌ¤ÍŽÍŽÌ§Ì°Ì­Í“NÌµÌ•ÍÌŠÍÌ¾Ì‚Ì¿Ì†Ì’Ì…Ì’Í˜ÌÌ“ÍƒÍ›ÍŠÍÌšÌˆÍƒÌƒÍŠÌ›ÌÍ‹Í›ÍƒÍ˜ÌŒÌŒÌƒÌÍÌˆÍ€Í†Ì†Ì‰Ì¾ÌƒÌÌŽÌÌŠÌŽÌ‹Í Ì…ÌƒÌÌÌŒÍ„ÍÌŽÌ€ÍÌ‹ÍÍ‹Í„ÌšÍƒÌŽÌ‹Í’Í‹ÌŒÌ“Ì“Í›Í‹Í„Ì’Ì‹Í‹Ì•Ì’Ì‘ÌˆÌšÍÍÌ”Í„Ì½Í›Ì›Ì›Ì‡Ì“Ì•ÍŠÌÍÍŒÌ¾ÌŠÌŒÌ†Ì•ÍÌ”Ì”Ì‚Í’ÌŒÍÍ—ÌžÍ”Ì Ì­Ì£Ì»Ì§Ì¥Ì£ÍŽÍœÍÍÌ¬Ì»Ì–Ì¤Ì—Ì–Ì¼ÌºÌ—Ì£Ì«Ì¼Ì¤Í–ÍŽÌªÍ•ÌºÌ§ÍÌ™Ì¯Ì¬Í•Ì¤Ì ÌÌ£Ì¤Ì¢Ì¨Ì–ÍœÌœÍ‡Í‡Ì—ÍŽÌ¼Ì²Ì–Ì®ÍŽÍœÌ³Ì»ÌÌŸÌ™Ì±Ì«Ì™Ì¦Í…ÌºÍšÌÌ¨Ì³Í‰ÍÌ¤Ì«Ì²Ì¯Ì¤ÍˆÌ–Ì®Ì§Ì¡ÌºÌŸÌ®Í•Ì§ÍÍ…Ì²Ì–ÍšÌ¤Í”Ì­Í‡Í“Ì©Ì§Ì­ÍšÌ¥Í•Ì­Ì¯Í™Ì¯Ì¦Í‡Í™Í‰Ì³ÌªÌ±Ì­Ì¥'Ì·Í‚ÌŠÌ„Ì‡Ì¾ÌÌ½ÌšÍ„Í‹Í Í’Ì„Í Ì„Ì‹ÌƒÍ’Ì¿Í˜Í€Ì¿ÌÍ„ÍŒÍ‘ÍÍ‘ÍÌ“Ì‘ÌŠÍ˜Í‹Ì›Í—ÌŠÍ’ÍÌ“Ì†Ì†ÍÍ†ÍÌ€Ì’Í„Í–ÌŸÌÌ¯Ì»Ì Ì¢ÌžÌ¤Í‡Ì£ÌÍ™ÌŸÌ ÌžÌ¥Ì©Ì­Ì–Í“Ì¨Ì±Ì¬ÌžÍ”Ì ÍÌ£Í‡Ì˜Ì¨Ì©Ì™Ì°Ì¯Í–Í‡ÍŽÌ¨Ì˜Ì—Í•Í‡Í‡Ì£Ì¤Ì©Ì¼Í”Í–Í…Ì™Ì¤ÍšÌ¥Ì¯Ì¥Ì§Ì™Í•Í•Ì«Ì˜Ì»Ì¯Ì™Í•Ì˜Ì¨Ì—Í•ÍœÌ Ì¼ÌºÌ®ÍšÌºÌ³ÍŽÌ¥Ì¨Ì˜ÌžÍ‰Í•Í‡Í“ÌŸÌ˜Ì­Ì¼Ì»ÍœÍ•Ì®Ì¼Í“ÌŸÌ»Ì˜Í–Í“Ì¢ÍÍ•Ì¡Í–Ì©Ì°Í“TÌµÌÌ…Í„ÌÍ›Ì›ÌÌ¾Ì‹Í’Ì‹Ì‹ÍÍÍÌÍÍ ÍÌÍ›Ì½Ì’ÌŽÌ½Ì€ÌÌ¾Ì”Ì‘ÍƒÍƒÌ”Ì‘Ì‡ÌÍŠÍƒÌ†Ì„Í„Í Í‹Ì“ÌÍ—Ì½Í‹ÍÍ„Ì¿Í›ÌšÌŽÍƒÌ‚Ì‚ÌÍ ÍŒÌÌ•Í˜ÌˆÌŽÍ‹Ì„ÌŒÍ›Í‘ÌÍÍƒÌÌ‹ÍƒÍÌ¿Ì‹Í€Ì‡Ì¿Ì„Ì”ÍÌ‘Ì›Í‹ÌˆÍ‹ÍÌŠÍ‘Ì‚Ì…Ì¿Ì¿Ì‘Ì•ÌÌˆÍ€Í„Ì…ÍƒÌŽÌŒÌ†ÍŠÍŒÌ„ÍÍ’Í—Ì†ÌˆÌ‰Í†ÌŒÍŠÍ Í ÌªÌ®Ì³Ì¡Ì–Ì¨ÍˆÌ—Ì™Ì¹Í”Ì£Í”Ì®Ì¯Ì±Í™Í–Ì²Í…Ì§Ì¼Ì­Ì–Í•ÌºÌ§Ìª Ì´Ì‡Ì¾Ì¾Ì‹Í‘ÍÍŒÌƒÍƒÌ•Ì‰Í€Í’ÍƒÍ‚ÍÌ‘Ì‹ÌšÌ¬Í…ÍœÍœÍœÍ‡Ì™Ì«Ì™Ì²Ì³ÍˆÌ®Ì©Ì¬ÍˆÍÍ•Í…Ì©Ì¥ÌŸÌ¡Í“Ì©GÌ·Ì„ÌŠÍ˜Í‚ÌšÌˆÌ†Ì‚ÍƒÌ”Ì†ÍÍ˜ÍÍ—Í—Í›ÍŒÌÍ‚Í‚Í˜Ì‚ÍÌšÌ’ÍÌ‚Ì…Ì’Í˜Ì•Ì”Í†ÍŒÌ‹Ì›Ì‹ÌŠÌ•Ì¿ÍÌ‰Ì½Í‚ÌÍ‘ÌŠÌ€Ì“Ì“ÌˆÌ›ÌÌ„Ì“ÍÌ“Í—ÍÍŒÌÌ’Ì›Í›ÌƒÌ’Ì•Ì†Ì€ÍÍÌ’Í€ÍÌ‘ÌÍƒÌ„Í‘ÌÌ‚ÌŠÌ‡ÌŠÌ…ÍÍ˜Í‹ÍÌ…Í‘Ì£ÌªÌŸÌ¼Ì Í”ÌºÌ¢Ì¯Ì£Ì°Ì¤Í‰Ì§Í‰Ì­Ì—Ì¨Ì™Ì»Ì¨Í‰ÍˆÍšÍœÌ»ÍŽÌ˜Ì—Ì°Ì¼ÌžÌ¥ÍˆÌŸÌ©Ì¢ÌºÌ±ÍŽÍˆÌºÍ”Ì³ÌªÌ¨OÌ¸ÌŒÌ‡Í›ÌÌƒÍÌ‰Ì”Ì‰Ì‰ÌŽÍŒÌŽÌ„ÍŠÍ„ÍƒÍ‚Ì›Ì¾Í Í„Í›Í„ÍŠÍ‚ÍÌ‡Í€ÌŒÌŠÌ“Ì€Í†ÍÌ‡ÍÌ…Ì”Ì€Í›Ì†Ì‡Ì‹Ì†Í„Í‘ÍÍ„ÌˆÌ½Í„Ì½ÌŒÌˆÌˆÍŠÌÌ‹ÍÍ’Í€ÍŠÌƒÍƒÌ‚Ì”Ì…Í‚ÍÍ˜Ì‹Ì†Ì½ÍÌ”ÍÍ„Í’ÌÍƒÌ»Í…Ì«Í–Ì¦Ì³ÌÌœÍ“Ì£ÌœÌºÌ¯Ì¼Ì¬Ì¦Ì±Ì Ì˜Ì Í…Í“ÍˆÌ–ÌªÌ«Ì¡ÌœÌ®Ì¤Ì–ÍœÍ…Ìž
    `;


    constructor(
        public authServ:AuthService,
        private router: Router
    ) {}
    public name:string='';
    readonly dialog = inject(MatDialog);

    handleSignOut(): void {
        this.authServ.SignOut().then((returned)=>{
            debug(returned);
            Swal.fire({
                title: `Why are you leaving?`,
                html: `Where are you going? How will you remember what to get there? <h2>ðŸ¥º</h2> <h3>${this.imsorry}</h3><h1>${this.dontgo}</h1>`,
                icon:'success',
                confirmButtonText:"K"
            });
            this.router.navigate(['']);
        })
    }

    openAddDialog(): void {
        const dialogRef = this.dialog.open(AddItemComponent);

        dialogRef.afterClosed().subscribe(result => {
            console.log('The dialog was closed');
            if (result !== undefined) {
                this.name= result;
            }
        });
    }
}



// @Component({
//     selector: 'dialog-overview-example-dialog',
//     templateUrl: 'dialog-overview-example-dialog.html',
//     standalone: true,
//   })
// export class DialogOverviewExampleDialog {
//     readonly dialogRef = inject(MatDialogRef<DialogOverviewExampleDialog>);
//     readonly data = inject<DialogData>(MAT_DIALOG_DATA);
//     readonly animal = this.data.animal;

//     onNoClick(): void {
//       this.dialogRef.close();
//     }
//   }